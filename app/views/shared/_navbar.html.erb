<nav class="navbar navbar-invers navbar-default">

  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Little Shop</a>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
    <ul class="nav navbar-nav">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
          Categories <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <% set_navbar_categories.each do |category| %>
            <li><%= link_to category.title, category.slug %></li>
          <li role="separator" class="divider"></li>
          <% end %>
        </ul>
      </li>
    </ul>

    <div class="navbar-collapse navbar-nav search-bar">
      <%= form_tag(categories_path, :method => "get", id: "search-form") do %>
        <%= text_field_tag :search, params[:search], placeholder: "Search Categories" %>
        <%= submit_tag "Search", :name => nil, class: "btn btn-xs" %>
    <% end %>
  </div>


    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav navbar-right">
        <% if current_user %>
          <li>
            <%= link_to 'Logout', logout_path, method: :delete %>
          </li>
        <% else %>
          <li><a href="/users/new">Create Account</a></li>
          <li><a href="/login">Login</a></li>
        <% end %>
        <li>
          <a href="/courses">Courses</a>
        </li>
        <li>
          <a href="/cart"><span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span> Cart</a>
        </li>
      </ul>
    </div>
  </div>
</div>
</nav>
